# Введение #

Класс `FieldCell` позволяет описать клетку, в которой требуется расположить редактор одного из полей редактируемого класса. Класс имеет два конструктора `FieldCell(String)` и `FieldCell(String, EditorSettings)`. Первый параметр - это имя поля, второй - настройки редактора для этого поля. Настройки необходимо указывать в зависимости от типа поля. Например, если редактируемое поле имеет тип `String`, то необходимо использовать `StringSettings`, если поле является числом - тип `NumberSettings`.

## Создание объекта настроек ##

Все объекты настроек реализуют интерфейс `EditorSettings`. Каждый класс имеет пустой конструктор и набор свойств. Каждому свойству соответствует get-метод и with-метод. With-метод практически аналогичен set-методу, но возвращает значение, являющееся объектом настроек. Это позволяет задавать настройки следующим образом:
```
new FieldCell("myField", new MySettings()
    .withProperty1(value1)
    .withProperty2(value2)
    .withProperty3(value3)
);
```

## Если настройки не указаны ##

Использование конструктора `FieldCell(String)` эквивалентно `FieldCell(String, null)`. В этом случае система определяет, какие использовать настройки следующим образом:

  * Если в редактируемом типе есть статический метод `EditorSettings getDefaultEditorSettings()`, он вызывается для получения объекта с настройками.
  * Иначе для использования в качестве настроек создается объект настроек с помощью пустого конструктора (`new MySettings()`). Поэтому при реализации класса настроек все поля необходимо заполнять значениями по умолчанию. Редактор самостоятельно выбирает, какой класс ему требуется (см. следующий раздел).

## Реализация редакторов ##

Каждый редактор является наследником класса `FieldEditor`. Класс `FieldEditor` имеет метод

```
protected <T extends EditorSettings> T getSettings(Class<T> settingsClass)
```

Он реализует всю описанную в предыдущем пункте логику. Для упрощения кода редактров можно использовать собственный класс `getSettings`, ниже приведен пример из класса `StringEditor`:

```
private StringSettings getSettings() {
    return getSettings(StringSettings.class);
}
```